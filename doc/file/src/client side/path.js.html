<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/client side/path.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/LincolnColeHoward/quick-js" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/client side/path.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;
// path methods
let path = {
	// break up arguments into the smallest segments
	segmentize: function segmentize () {
		let segments = [];
		Array.from (arguments).forEach ((arg) =&gt; {
			segments = segments.concat (arg.split (&apos;/&apos;));
		});
		return segments;
	},
	// build a url from a set of strings
	join: function join () {
		let segments = path.segmentize.apply (null, arguments);
		// interpret meaning of segments
		let uri = [];
		segments.forEach ((segment) =&gt; {
			// could be empty, &apos;.&apos;, &apos;..&apos;, or have meaning
			switch (segment) {
				case &apos;&apos;:
					if (!uri.length) uri.push (segment);
					break;
				case &apos;.&apos;:
					break;
				case &apos;..&apos;:
					if (uri.length) uri.pop ();
					break;
				default:
					uri.push (segment);
			}
		});
		// return the segments joined by the separator
		return uri.join (&apos;/&apos;);
	},
	// parameterize whole uri
	parameterize: function (uri, params) {
		let ret = &apos;&apos;;
		path.segmentize (uri).forEach ((seg) =&gt; {
			ret = path.join (ret, path.parameterizeSegment (seg, params));
		});
		return ret;
	},
	// replace parameters into uri segment
	parameterizeSegment: function (segment, params) {
		// find where to insert stuff, store here
		let inserts = [];
		// first index of parameter
		let pos = segment.indexOf (&apos;:&apos;);
		// loop until no more parameters are found
		while (pos !== -1) {
			// prepare delimiter as the end of line
			let delim = segment.length;
			// find the delimiter
			let dot = segment.indexOf (&apos;.&apos;, pos + 1);
			let colon = segment.indexOf (&apos;:&apos;, pos + 1);
			let hyphen = segment.indexOf (&apos;-&apos;, pos + 1);
			// if not found, set to infinity
			if (dot === -1) dot = Infinity;
			if (colon === -1) colon = Infinity;
			if (hyphen === -1) hyphen = Infinity;
			// select lowest number
			if (dot &lt; delim) delim = dot;
			if (colon &lt; delim) delim = colon;
			if (hyphen &lt; delim) delim = hyphen;
			// set the beginning and end of each parameter
			inserts.push ({
				start: pos,
				end: delim,
				name: segment.substring (pos + 1, delim)
			});
			pos = segment.indexOf (&apos;:&apos;, pos + 1);
		}
		// segmentize the segments
		let arr = segment.split (&apos;&apos;);
		// loop until no more inserts are needed
		while (inserts.length) {
			// get the farthest segment from 0
			let el = inserts.pop ();
			// make sure the argument is provided
			if (params [el.name]) {
				// insert the argument
				arr.splice (el.start, el.end - el.start, params [el.name]);
			}
		}
		return arr.join (&apos;&apos;);
	}
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
